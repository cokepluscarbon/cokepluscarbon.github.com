<!DOCTYPE HTML>
<html lang="zh_CN">
<head>
	<meta charset="UTF-8">
	<title>06 Waves with two angles</title>
	<link rel="stylesheet" href="styles/style.css" />
	<script type="text/javascript" src="javascripts/utils.js"></script>
	<script type="text/javascript" src="javascripts/ball.js"></script>
</head>
<body>
	<canvas id="canvas" width="800" height="450">Your broswer not support canvas!</canvas>
	<script type="text/javascript">
	/*
	 * 上下随意摆动
	 */
	window.onload = function() {
		var canvas = document.getElementById('canvas'),
			context = canvas.getContext('2d'),
			ball = new Ball(),
			range = 100,
			angleX = 0,
			angleY = 0,
			speedX = Math.PI / 60, // 波动幅度
			speedY = Math.PI / 80,
			centerX = canvas.width / 2,
			centerY = canvas.height / 2; 
		
		ball.x = centerX;
		ball.y = centerY;
		
		(function drawFrame(){ // 自调用函数
			window.requestAnimationFrame(drawFrame, canvas); 
			context.clearRect(0, 0, canvas.width, canvas.height);
			
			ball.x = centerX + Math.sin(angleX) * range;
			ball.y = centerY + Math.sin(angleY) * range;
			
			angleX += speedX;
			angleY += speedY;
			
			ball.draw(context);
		}());
	}
	</script>
</body>
</html>